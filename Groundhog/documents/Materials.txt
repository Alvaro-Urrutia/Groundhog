# @markup html
# @title Materials
# @author German Molina

<h1> How Groundhog deals with materials </h1>


<p align="justify">Materials are a very delicate thing in lighting simulation. A model with incorrectly defined materials
may return beautiful images and data to make nice plots, although it will all be incorrect 
(<a href="http://en.wikipedia.org/wiki/Garbage_in,_garbage_out">GIGO rule</a>). According to this, Groundhog
allow you to use your own (or a pre-defined) Radiance material library. It would be ideal to create an online
Radiance material repository, available for everyone.</p>

<p align="justify">However, there might be times when we do not know the properties of the materials, or we just 
do not really care about precision. According to this, Groundhog allows you to export models that include
materials not supported by a Radiance Material file. These materials may even have textures.</p>

<p align="justify">The proces of choosing the material is the following:</p>
<li align="justify"><b>First:</b> Groundhog checks if the surface has a front material. In case of not having one, 
it will use the back material. In case it does not have a back material either, default materials will be assigned 
(a gray Lambertian material for unlabeled surfaces, and a clear glass for windows).
<li align="justify"><b>Second:</b> After finding the SketchUp material, Groundhog will check if the material is supported 
by a Radiance Material file.
<li align="justify"><b>Third:</b> If the SketchUp material is supported by a Radiance Material file, the content of that file 
will be copied and written in the output "materials.mat" file. On the other hand, if the material is not supported, 
Groundhog will try to emulate the material by assigning the color to a lambertian plastic radiance modifier, in the 
case of opaque materials; and a colored glass, in the case of semi-transparent materials. If the SketchUp material 
has a texture, the color assigned will correspond to the average color of such texture calculated using the 
<a href="http://www.sketchup.com/intl/en/developer/docs/ourdoc/texture.php#average_color">
SketchUp's API's average_color</a> method.

<h2>Radiance Material files</h2>

<p align="justify">Radiance Material files have to be self-contained files that represent one material. Since Groundhog
will compare the name of the SketchUp Material with the names of the Radiance Material files, the Radiance Material
files have to be assigned the same name as the respective SketchUp Material.</p>

<p align="justify">Unfortunately, the actual state of development does not allow easy definition of the directory
that contains the supported Radiance Material files. This has to be done in the source code, manually choosing the
directory on the 'GH_OS.rb' file, on the 'rad_material_path' method.</p>

<p align="justify"><b>NOTE:</b> OSX users must use a slash (/), Windows users must use backslash (\\) as divider</p>