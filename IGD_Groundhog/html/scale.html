
<html>
	<head>
		<title>Scale handling</title>
		<meta charset="UTF-8">
	</head>
	
	<body>


    <p align="center">Max: <input type="number" id="max" min="0" style="width:57px;"><input type="checkbox" id="auto_max" onclick='onCheckMax()'>Auto</p>
    
    <p align="center"><img align="center" src="scale.png" alt="scale" style="width:50px;height:200px"></p>
    
    <p align="center">Min: <input type="number" id="min"  min="0" style="width:57px;"><input type="checkbox" id="auto_min" onclick='onCheckMin()'>Auto</p>
    
       <p align="center"> <button 
    	style='font-size:10pt;'
    	onclick='update()'
    > Update Scale </button></p>

	</body>
	
	<script type='text/javascript'>


		function update() {
			var max=parseFloat(document.getElementById("max").value)
			var min=parseFloat(document.getElementById("min").value)
			
			if(min>=max){
				alert("Minimum value must be smaller than maximum value");
				return;
			}else if(min<0 || max < 0){
				alert("Both scale values need to be greater than zero")
				return;
			}
			
			var auto_min=document.getElementById("auto_min")
			var auto_max=document.getElementById("auto_max")
			
			if(auto_min.checked){
				var min=-1;
			}
			if(auto_max.checked){
				var max=-1;
			}
			
			if(isNaN(min) || isNaN(max)){
				alert("Please insert a valid number")
				return;
			}
			
			var query = 'skp:update_scale@'+min+'/'+max;
			window.location.href = query;
		}
		
		function onCheckMax(){
			var max=document.getElementById("max")
			var auto_max=document.getElementById("auto_max")
		
			if(auto_max.checked){		
				max.readOnly=true
				max.value="auto"
			}else{
				max.readOnly=false

			}
			
		}
		function onCheckMin(){
			var min=document.getElementById("min")
			var auto_min=document.getElementById("auto_min")
		
			if(auto_min.checked){		
				min.readOnly=true
				min.value="auto"
			}else{
				min.readOnly=false
			}
			
		}
		
	</script>


</html>

